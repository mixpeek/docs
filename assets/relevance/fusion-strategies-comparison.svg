<svg viewBox="0 0 1200 520" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="rrfGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="weightedGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f97316;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ea580c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="learnedGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#db2777;stop-opacity:1" />
    </linearGradient>
    <filter id="shadowFS" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.15"/>
    </filter>
    <marker id="arrowFS" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="520" fill="#f8fafc"/>

  <!-- Title -->
  <text x="600" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="24" font-weight="600" fill="#0f172a" text-anchor="middle">Fusion Strategies Compared</text>
  <text x="600" y="65" font-family="system-ui, sans-serif" font-size="13" fill="#64748b" text-anchor="middle">How multiple search results are combined into a single ranked list</text>

  <!-- Input: Two result lists -->
  <g filter="url(#shadowFS)">
    <rect x="60" y="100" width="200" height="160" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="60" y="100" width="200" height="30" rx="12" fill="#475569"/>
    <rect x="60" y="118" width="200" height="12" fill="#475569"/>
    <text x="160" y="121" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Text Search Results</text>
    <g transform="translate(72, 140)">
      <rect x="0" y="0" width="176" height="20" rx="4" fill="#eef2ff"/>
      <text x="8" y="14" font-family="system-ui, sans-serif" font-size="10" fill="#4338ca">#1 Doc A</text>
      <text x="140" y="14" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.95</text>
    </g>
    <g transform="translate(72, 164)">
      <rect x="0" y="0" width="176" height="20" rx="4" fill="#eef2ff"/>
      <text x="8" y="14" font-family="system-ui, sans-serif" font-size="10" fill="#4338ca">#2 Doc C</text>
      <text x="140" y="14" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.82</text>
    </g>
    <g transform="translate(72, 188)">
      <rect x="0" y="0" width="176" height="20" rx="4" fill="#eef2ff"/>
      <text x="8" y="14" font-family="system-ui, sans-serif" font-size="10" fill="#4338ca">#3 Doc B</text>
      <text x="140" y="14" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.71</text>
    </g>
    <g transform="translate(72, 212)">
      <rect x="0" y="0" width="176" height="20" rx="4" fill="#eef2ff"/>
      <text x="8" y="14" font-family="system-ui, sans-serif" font-size="10" fill="#4338ca">#4 Doc D</text>
      <text x="140" y="14" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.65</text>
    </g>
  </g>

  <g filter="url(#shadowFS)">
    <rect x="60" y="280" width="200" height="160" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="60" y="280" width="200" height="30" rx="12" fill="#475569"/>
    <rect x="60" y="298" width="200" height="12" fill="#475569"/>
    <text x="160" y="301" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Image Search Results</text>
    <g transform="translate(72, 320)">
      <rect x="0" y="0" width="176" height="20" rx="4" fill="#eef2ff"/>
      <text x="8" y="14" font-family="system-ui, sans-serif" font-size="10" fill="#4338ca">#1 Doc B</text>
      <text x="140" y="14" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.91</text>
    </g>
    <g transform="translate(72, 344)">
      <rect x="0" y="0" width="176" height="20" rx="4" fill="#eef2ff"/>
      <text x="8" y="14" font-family="system-ui, sans-serif" font-size="10" fill="#4338ca">#2 Doc A</text>
      <text x="140" y="14" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.88</text>
    </g>
    <g transform="translate(72, 368)">
      <rect x="0" y="0" width="176" height="20" rx="4" fill="#eef2ff"/>
      <text x="8" y="14" font-family="system-ui, sans-serif" font-size="10" fill="#4338ca">#3 Doc E</text>
      <text x="140" y="14" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.79</text>
    </g>
    <g transform="translate(72, 392)">
      <rect x="0" y="0" width="176" height="20" rx="4" fill="#eef2ff"/>
      <text x="8" y="14" font-family="system-ui, sans-serif" font-size="10" fill="#4338ca">#4 Doc C</text>
      <text x="140" y="14" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.62</text>
    </g>
  </g>

  <!-- Arrows to strategies -->
  <line x1="260" y1="180" x2="340" y2="150" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrowFS)"/>
  <line x1="260" y1="360" x2="340" y2="300" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrowFS)"/>
  <line x1="260" y1="200" x2="340" y2="300" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>
  <line x1="260" y1="340" x2="340" y2="150" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,3"/>

  <!-- RRF Strategy -->
  <g filter="url(#shadowFS)">
    <rect x="350" y="90" width="240" height="140" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="350" y="90" width="240" height="30" rx="12" fill="url(#rrfGrad)"/>
    <rect x="350" y="108" width="240" height="12" fill="url(#rrfGrad)"/>
    <text x="470" y="111" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">RRF (Default)</text>
    <text x="470" y="140" font-family="system-ui, sans-serif" font-size="11" fill="#475569" text-anchor="middle">Rank-based, ignores raw scores</text>
    <text x="370" y="162" font-family="system-ui, monospace" font-size="10" fill="#4338ca">1/(k + rank)</text>
    <text x="370" y="180" font-family="system-ui, sans-serif" font-size="10" fill="#475569">Doc A: 1/61 + 1/62 = 0.033</text>
    <text x="370" y="195" font-family="system-ui, sans-serif" font-size="10" fill="#475569">Doc B: 1/63 + 1/61 = 0.032</text>
    <text x="370" y="210" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">No tuning needed</text>
  </g>

  <!-- Weighted Strategy -->
  <g filter="url(#shadowFS)">
    <rect x="350" y="250" width="240" height="140" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="350" y="250" width="240" height="30" rx="12" fill="url(#weightedGrad)"/>
    <rect x="350" y="268" width="240" height="12" fill="url(#weightedGrad)"/>
    <text x="470" y="271" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Weighted</text>
    <text x="470" y="300" font-family="system-ui, sans-serif" font-size="11" fill="#475569" text-anchor="middle">Manual weights per feature</text>
    <text x="370" y="322" font-family="system-ui, monospace" font-size="10" fill="#c2410c">w&#x2081;*score&#x2081; + w&#x2082;*score&#x2082;</text>
    <text x="370" y="340" font-family="system-ui, sans-serif" font-size="10" fill="#475569">text=0.7, image=0.3</text>
    <text x="370" y="355" font-family="system-ui, sans-serif" font-size="10" fill="#475569">Doc A: 0.7*0.95+0.3*0.88=0.93</text>
    <text x="370" y="370" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">You set the weights</text>
  </g>

  <!-- Learned Strategy -->
  <g filter="url(#shadowFS)">
    <rect x="350" y="410" width="240" height="90" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="350" y="410" width="240" height="30" rx="12" fill="url(#learnedGrad)"/>
    <rect x="350" y="428" width="240" height="12" fill="url(#learnedGrad)"/>
    <text x="470" y="431" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Learned</text>
    <text x="470" y="460" font-family="system-ui, sans-serif" font-size="11" fill="#475569" text-anchor="middle">Weights from user interactions</text>
    <text x="470" y="480" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">Thompson Sampling + Beta dist.</text>
  </g>

  <!-- Arrows from strategies to output -->
  <line x1="590" y1="160" x2="680" y2="220" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrowFS)"/>
  <line x1="590" y1="320" x2="680" y2="280" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrowFS)"/>
  <line x1="590" y1="455" x2="680" y2="300" stroke="#94a3b8" stroke-width="1.5" marker-end="url(#arrowFS)"/>

  <!-- Output: Fused list -->
  <g filter="url(#shadowFS)">
    <rect x="690" y="170" width="220" height="180" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="690" y="170" width="220" height="30" rx="12" fill="#0f172a"/>
    <rect x="690" y="188" width="220" height="12" fill="#0f172a"/>
    <text x="800" y="191" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Fused Results</text>
    <g transform="translate(702, 212)">
      <rect x="0" y="0" width="196" height="24" rx="4" fill="#ecfdf5"/>
      <text x="8" y="16" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#047857">#1 Doc A</text>
      <text x="150" y="16" font-family="system-ui, sans-serif" font-size="10" fill="#047857">best</text>
    </g>
    <g transform="translate(702, 240)">
      <rect x="0" y="0" width="196" height="24" rx="4" fill="#f0fdf4"/>
      <text x="8" y="16" font-family="system-ui, sans-serif" font-size="11" fill="#475569">#2 Doc B</text>
    </g>
    <g transform="translate(702, 268)">
      <rect x="0" y="0" width="196" height="24" rx="4" fill="#f0fdf4"/>
      <text x="8" y="16" font-family="system-ui, sans-serif" font-size="11" fill="#475569">#3 Doc C</text>
    </g>
    <g transform="translate(702, 296)">
      <rect x="0" y="0" width="196" height="24" rx="4" fill="#f0fdf4"/>
      <text x="8" y="16" font-family="system-ui, sans-serif" font-size="11" fill="#475569">#4 Doc E</text>
    </g>
    <g transform="translate(702, 324)">
      <rect x="0" y="0" width="196" height="24" rx="4" fill="#f0fdf4"/>
      <text x="8" y="16" font-family="system-ui, sans-serif" font-size="11" fill="#475569">#5 Doc D</text>
    </g>
  </g>

  <!-- Strategy labels on the right -->
  <g transform="translate(940, 170)">
    <rect x="0" y="0" width="220" height="180" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2" filter="url(#shadowFS)"/>
    <text x="110" y="24" font-family="system-ui, sans-serif" font-size="13" font-weight="600" fill="#0f172a" text-anchor="middle">Choose Based On</text>
    <line x1="16" y1="36" x2="204" y2="36" stroke="#e2e8f0" stroke-width="1"/>
    <rect x="16" y="48" width="10" height="10" rx="2" fill="url(#rrfGrad)"/>
    <text x="34" y="58" font-family="system-ui, sans-serif" font-size="11" fill="#475569">RRF: no configuration</text>
    <text x="34" y="73" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">Best default choice</text>
    <rect x="16" y="90" width="10" height="10" rx="2" fill="url(#weightedGrad)"/>
    <text x="34" y="100" font-family="system-ui, sans-serif" font-size="11" fill="#475569">Weighted: domain knowledge</text>
    <text x="34" y="115" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">You know which features matter</text>
    <rect x="16" y="132" width="10" height="10" rx="2" fill="url(#learnedGrad)"/>
    <text x="34" y="142" font-family="system-ui, sans-serif" font-size="11" fill="#475569">Learned: user data available</text>
    <text x="34" y="157" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8">Adapts per-user over time</text>
  </g>
</svg>