<svg viewBox="0 0 1200 920" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="videoGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f97316;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ea580c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="chunkGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="audioGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="visualGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="indexGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#db2777;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="queryGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#14b8a6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0d9488;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.15"/>
    </filter>
    <marker id="arrowGray" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#94a3b8"/>
    </marker>
    <marker id="arrowTeal" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#14b8a6"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="920" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="600" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="24" font-weight="600" fill="#0f172a" text-anchor="middle">Video Understanding Pipeline</text>
  <text x="600" y="65" font-family="system-ui, sans-serif" font-size="13" fill="#64748b" text-anchor="middle">Scene detection, transcription, and hybrid visual + audio search</text>

  <!-- Stage Labels -->
  <text x="130" y="100" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#94a3b8">1. INGEST</text>
  <text x="350" y="100" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#94a3b8">2. CHUNK</text>
  <text x="620" y="100" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#94a3b8">3. PARALLEL EXTRACTION</text>
  <text x="1020" y="100" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#94a3b8">4. INDEX</text>

  <!-- Stage 1: Source Video -->
  <g filter="url(#shadow)">
    <rect x="50" y="115" width="180" height="200" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="50" y="115" width="180" height="28" rx="10" fill="url(#videoGrad)"/>
    <rect x="50" y="133" width="180" height="10" fill="url(#videoGrad)"/>
    <text x="140" y="135" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">ğŸ¬ Source Video</text>
  </g>
  
  <!-- Video visual -->
  <g transform="translate(70, 155)">
    <rect x="0" y="0" width="140" height="80" rx="6" fill="#1e293b"/>
    <!-- Play button -->
    <circle cx="70" cy="40" r="18" fill="rgba(255,255,255,0.2)"/>
    <polygon points="64,30 64,50 82,40" fill="white"/>
    <!-- Timeline -->
    <rect x="10" y="70" width="120" height="4" rx="2" fill="#475569"/>
    <rect x="10" y="70" width="45" height="4" rx="2" fill="#f97316"/>
    <circle cx="55" cy="72" r="5" fill="#f97316"/>
    
    <text x="70" y="100" font-family="monospace" font-size="8" fill="#475569" text-anchor="middle">product-launch.mp4</text>
    <text x="70" y="112" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">Duration: 5:32</text>
    
    <!-- Metadata -->
    <rect x="0" y="122" width="140" height="30" rx="4" fill="#fff7ed"/>
    <text x="70" y="138" font-family="monospace" font-size="7" fill="#c2410c" text-anchor="middle">title: "Product Launch Q4"</text>
    <text x="70" y="148" font-family="monospace" font-size="7" fill="#c2410c" text-anchor="middle">category: "marketing"</text>
  </g>

  <!-- Arrow 1â†’2 -->
  <path d="M 230 215 L 270 215" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowGray)"/>

  <!-- Stage 2: Chunking -->
  <g filter="url(#shadow)">
    <rect x="280" y="115" width="200" height="200" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="280" y="115" width="200" height="28" rx="10" fill="url(#chunkGrad)"/>
    <rect x="280" y="133" width="200" height="10" fill="url(#chunkGrad)"/>
    <text x="380" y="135" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">âœ‚ï¸ Video Chunking</text>
  </g>
  
  <g transform="translate(295, 155)">
    <!-- Chunking methods -->
    <rect x="0" y="0" width="170" height="35" rx="5" fill="#eef2ff" stroke="#c7d2fe" stroke-width="1"/>
    <text x="85" y="14" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#4338ca" text-anchor="middle">ğŸ¬ Scene Detection</text>
    <text x="85" y="28" font-family="monospace" font-size="7" fill="#475569" text-anchor="middle">threshold: 0.3 â€¢ visual changes</text>
    
    <rect x="0" y="40" width="170" height="35" rx="5" fill="#f3e8ff" stroke="#d8b4fe" stroke-width="1"/>
    <text x="85" y="54" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#7c3aed" text-anchor="middle">ğŸ”‡ Silence Detection</text>
    <text x="85" y="68" font-family="monospace" font-size="7" fill="#475569" text-anchor="middle">-40dB â€¢ natural breaks</text>
    
    <rect x="0" y="80" width="170" height="35" rx="5" fill="#fef3c7" stroke="#fcd34d" stroke-width="1"/>
    <text x="85" y="94" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#92400e" text-anchor="middle">â± Fixed Intervals</text>
    <text x="85" y="108" font-family="monospace" font-size="7" fill="#475569" text-anchor="middle">30s chunks â€¢ uniform</text>
    
    <!-- Output -->
    <rect x="0" y="122" width="170" height="35" rx="5" fill="#d1fae5" stroke="#6ee7b7" stroke-width="1"/>
    <text x="85" y="140" font-family="system-ui, sans-serif" font-size="9" font-weight="600" fill="#047857" text-anchor="middle">â†’ 12 segments created</text>
  </g>

  <!-- Arrow 2â†’3 -->
  <path d="M 480 215 L 520 215" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowGray)"/>

  <!-- Stage 3: Parallel Extraction -->
  <g filter="url(#shadow)">
    <rect x="530" y="115" width="420" height="200" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="530" y="115" width="420" height="28" rx="10" fill="#1e293b"/>
    <rect x="530" y="133" width="420" height="10" fill="#1e293b"/>
    <text x="740" y="135" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">âš¡ Parallel Extraction (Ray)</text>
  </g>
  
  <!-- Parallel branches indicator -->
  <rect x="545" y="150" width="390" height="155" rx="6" fill="#f8fafc" stroke="#e2e8f0" stroke-width="1" stroke-dasharray="4,2"/>
  
  <g transform="translate(555, 160)">
    <!-- Branch 1: Audio/Transcription -->
    <rect x="0" y="0" width="180" height="135" rx="8" fill="url(#audioGrad)"/>
    <text x="90" y="20" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="white" text-anchor="middle">ğŸ™ Audio Branch</text>
    
    <rect x="10" y="30" width="160" height="45" rx="5" fill="white" fill-opacity="0.95"/>
    <text x="90" y="46" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#7c3aed" text-anchor="middle">Whisper large-v3</text>
    <text x="90" y="60" font-family="monospace" font-size="7" fill="#475569" text-anchor="middle">Speech â†’ Text + timestamps</text>
    <text x="90" y="70" font-family="monospace" font-size="6" fill="#64748b" text-anchor="middle">GPU: 0.5 â€¢ 10-50Ã— speedup</text>
    
    <rect x="10" y="80" width="160" height="45" rx="5" fill="white" fill-opacity="0.95"/>
    <text x="90" y="96" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#7c3aed" text-anchor="middle">E5-Large Multilingual</text>
    <text x="90" y="110" font-family="monospace" font-size="7" fill="#475569" text-anchor="middle">Text â†’ 1024d embedding</text>
    <text x="90" y="120" font-family="monospace" font-size="6" fill="#64748b" text-anchor="middle">transcription_embedding</text>
    
    <!-- Branch 2: Visual -->
    <rect x="190" y="0" width="180" height="135" rx="8" fill="url(#visualGrad)"/>
    <text x="280" y="20" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="white" text-anchor="middle">ğŸ‘ Visual Branch</text>
    
    <rect x="200" y="30" width="160" height="45" rx="5" fill="white" fill-opacity="0.95"/>
    <text x="280" y="46" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#059669" text-anchor="middle">Vertex Multimodal</text>
    <text x="280" y="60" font-family="monospace" font-size="7" fill="#475569" text-anchor="middle">Keyframes â†’ 1408d embedding</text>
    <text x="280" y="70" font-family="monospace" font-size="6" fill="#64748b" text-anchor="middle">multimodal_embedding</text>
    
    <rect x="200" y="80" width="160" height="45" rx="5" fill="white" fill-opacity="0.95"/>
    <text x="280" y="96" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#059669" text-anchor="middle">Gemini 2.5 Flash</text>
    <text x="280" y="110" font-family="monospace" font-size="7" fill="#475569" text-anchor="middle">Description + OCR</text>
    <text x="280" y="120" font-family="monospace" font-size="6" fill="#64748b" text-anchor="middle">Combined API call</text>
  </g>

  <!-- Arrow 3â†’4 -->
  <path d="M 950 215 L 990 215" stroke="#94a3b8" stroke-width="2" fill="none" marker-end="url(#arrowGray)"/>

  <!-- Stage 4: Multi-Vector Index -->
  <g filter="url(#shadow)">
    <rect x="1000" y="115" width="150" height="200" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="1000" y="115" width="150" height="28" rx="10" fill="url(#indexGrad)"/>
    <rect x="1000" y="133" width="150" height="10" fill="url(#indexGrad)"/>
    <text x="1075" y="135" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">ğŸ—‚ Index</text>
  </g>
  
  <g transform="translate(1015, 155)">
    <!-- Scenes collection -->
    <rect x="0" y="0" width="120" height="70" rx="6" fill="#fce7f3" stroke="#f9a8d4" stroke-width="1"/>
    <text x="60" y="16" font-family="system-ui, sans-serif" font-size="9" font-weight="600" fill="#db2777" text-anchor="middle">ğŸ“¹ Scenes</text>
    <text x="60" y="32" font-family="monospace" font-size="6" fill="#475569" text-anchor="middle">video-scenes</text>
    <text x="60" y="46" font-family="system-ui, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">visual embeddings</text>
    <text x="60" y="58" font-family="system-ui, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">keyframes, OCR</text>
    
    <!-- Transcripts collection -->
    <rect x="0" y="78" width="120" height="70" rx="6" fill="#fce7f3" stroke="#f9a8d4" stroke-width="1"/>
    <text x="60" y="94" font-family="system-ui, sans-serif" font-size="9" font-weight="600" fill="#db2777" text-anchor="middle">ğŸ¤ Transcripts</text>
    <text x="60" y="110" font-family="monospace" font-size="6" fill="#475569" text-anchor="middle">video-transcripts</text>
    <text x="60" y="124" font-family="system-ui, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">text embeddings</text>
    <text x="60" y="136" font-family="system-ui, sans-serif" font-size="7" fill="#64748b" text-anchor="middle">speaker diarization</text>
  </g>

  <!-- Query Time Section -->
  <text x="600" y="355" font-family="system-ui, sans-serif" font-size="14" font-weight="600" fill="#475569" text-anchor="middle">Query-Time: Hybrid Visual + Audio Search</text>
  
  <g filter="url(#shadow)">
    <rect x="100" y="375" width="1000" height="220" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
  </g>

  <!-- Query Input -->
  <g transform="translate(120, 395)">
    <rect x="0" y="0" width="200" height="180" rx="8" fill="url(#queryGrad)"/>
    <text x="100" y="22" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">ğŸ” Hybrid Query</text>
    
    <!-- Text query -->
    <rect x="10" y="35" width="180" height="55" rx="5" fill="white" fill-opacity="0.95"/>
    <text x="100" y="52" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#0f172a" text-anchor="middle">Text Query</text>
    <text x="100" y="66" font-family="system-ui, sans-serif" font-size="7" fill="#475569" text-anchor="middle">"someone explaining</text>
    <text x="100" y="78" font-family="system-ui, sans-serif" font-size="7" fill="#475569" text-anchor="middle">product features"</text>
    
    <!-- Image query -->
    <rect x="10" y="95" width="180" height="55" rx="5" fill="white" fill-opacity="0.95"/>
    <text x="100" y="112" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#0f172a" text-anchor="middle">Image Query (optional)</text>
    <rect x="20" y="118" width="40" height="25" rx="3" fill="#e2e8f0"/>
    <text x="40" y="134" font-family="system-ui, sans-serif" font-size="8" fill="#64748b" text-anchor="middle">ğŸ–¼</text>
    <text x="110" y="132" font-family="monospace" font-size="6" fill="#64748b" text-anchor="middle">reference-scene.jpg</text>
    
    <!-- Filter -->
    <rect x="10" y="155" width="180" height="18" rx="3" fill="rgba(255,255,255,0.5)"/>
    <text x="100" y="168" font-family="monospace" font-size="7" fill="#0f766e" text-anchor="middle">category: "marketing"</text>
  </g>

  <!-- Arrow to retriever -->
  <path d="M 320 485 L 360 485" stroke="#14b8a6" stroke-width="2" fill="none" marker-end="url(#arrowTeal)"/>

  <!-- Hybrid Retriever -->
  <g transform="translate(370, 395)">
    <rect x="0" y="0" width="320" height="180" rx="8" fill="#f0fdfa" stroke="#14b8a6" stroke-width="2"/>
    <text x="160" y="22" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#0d9488" text-anchor="middle">âš™ï¸ Retriever: video-search</text>
    
    <!-- Stage: Hybrid Search -->
    <rect x="15" y="38" width="290" height="95" rx="6" fill="#ccfbf1" stroke="#5eead4" stroke-width="1"/>
    <text x="160" y="55" font-family="system-ui, sans-serif" font-size="9" font-weight="600" fill="#0f766e" text-anchor="middle">Stage: hybrid_search</text>
    
    <!-- Visual query -->
    <rect x="25" y="62" width="130" height="60" rx="4" fill="white"/>
    <text x="90" y="76" font-family="system-ui, sans-serif" font-size="7" font-weight="600" fill="#059669" text-anchor="middle">ğŸ‘ Visual Search</text>
    <text x="90" y="90" font-family="monospace" font-size="6" fill="#475569" text-anchor="middle">scene_embedding</text>
    <text x="90" y="102" font-family="monospace" font-size="6" fill="#475569" text-anchor="middle">input: query_image</text>
    <rect x="35" y="108" width="110" height="10" rx="2" fill="#d1fae5"/>
    <text x="90" y="116" font-family="system-ui, sans-serif" font-size="7" font-weight="600" fill="#059669" text-anchor="middle">weight: 0.6</text>
    
    <!-- Transcript query -->
    <rect x="165" y="62" width="130" height="60" rx="4" fill="white"/>
    <text x="230" y="76" font-family="system-ui, sans-serif" font-size="7" font-weight="600" fill="#7c3aed" text-anchor="middle">ğŸ¤ Transcript Search</text>
    <text x="230" y="90" font-family="monospace" font-size="6" fill="#475569" text-anchor="middle">transcript_embedding</text>
    <text x="230" y="102" font-family="monospace" font-size="6" fill="#475569" text-anchor="middle">input: query_text</text>
    <rect x="175" y="108" width="110" height="10" rx="2" fill="#f3e8ff"/>
    <text x="230" y="116" font-family="system-ui, sans-serif" font-size="7" font-weight="600" fill="#7c3aed" text-anchor="middle">weight: 0.4</text>
    
    <!-- Fusion -->
    <rect x="15" y="140" width="140" height="30" rx="5" fill="#fef3c7" stroke="#fcd34d" stroke-width="1"/>
    <text x="85" y="158" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#92400e" text-anchor="middle">ğŸ”€ RRF Fusion</text>
    
    <!-- Filter stage -->
    <rect x="165" y="140" width="140" height="30" rx="5" fill="#e0e7ff" stroke="#a5b4fc" stroke-width="1"/>
    <text x="235" y="158" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#4338ca" text-anchor="middle">ğŸ” Filter: category</text>
  </g>

  <!-- Arrow to results -->
  <path d="M 690 485 L 730 485" stroke="#14b8a6" stroke-width="2" fill="none" marker-end="url(#arrowTeal)"/>

  <!-- Search Results -->
  <g transform="translate(740, 395)">
    <rect x="0" y="0" width="340" height="180" rx="8" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="1"/>
    <text x="170" y="22" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#475569" text-anchor="middle">ğŸ¯ Matched Moments</text>
    
    <!-- Result 1 -->
    <rect x="15" y="35" width="310" height="42" rx="5" fill="white" stroke="#e2e8f0" stroke-width="1"/>
    <rect x="25" y="42" width="50" height="28" rx="3" fill="#1e293b"/>
    <text x="50" y="60" font-family="system-ui, sans-serif" font-size="10" fill="white" text-anchor="middle">â–¶</text>
    <text x="145" y="52" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#0f172a">Scene 3: Product demo walkthrough</text>
    <text x="145" y="66" font-family="monospace" font-size="7" fill="#64748b">â± 00:45 - 00:58 â€¢ score: 0.94 â€¢ visual+text</text>
    
    <!-- Result 2 -->
    <rect x="15" y="82" width="310" height="42" rx="5" fill="white" stroke="#e2e8f0" stroke-width="1"/>
    <rect x="25" y="89" width="50" height="28" rx="3" fill="#1e293b"/>
    <text x="50" y="107" font-family="system-ui, sans-serif" font-size="10" fill="white" text-anchor="middle">â–¶</text>
    <text x="145" y="99" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#0f172a">Scene 7: Feature comparison chart</text>
    <text x="145" y="113" font-family="monospace" font-size="7" fill="#64748b">â± 02:15 - 02:42 â€¢ score: 0.89 â€¢ visual</text>
    
    <!-- Result 3 -->
    <rect x="15" y="129" width="310" height="42" rx="5" fill="white" stroke="#e2e8f0" stroke-width="1"/>
    <rect x="25" y="136" width="50" height="28" rx="3" fill="#1e293b"/>
    <text x="50" y="154" font-family="system-ui, sans-serif" font-size="10" fill="white" text-anchor="middle">â–¶</text>
    <text x="145" y="146" font-family="system-ui, sans-serif" font-size="8" font-weight="600" fill="#0f172a">Scene 5: "...key features include..."</text>
    <text x="145" y="160" font-family="monospace" font-size="7" fill="#64748b">â± 01:22 - 01:45 â€¢ score: 0.87 â€¢ transcript</text>
  </g>

  <!-- Feature Extractors & Output -->
  <g filter="url(#shadow)">
    <rect x="100" y="615" width="480" height="130" rx="10" fill="#1e293b"/>
    <text x="340" y="643" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Feature Extractors</text>
    <line x1="100" y1="655" x2="580" y2="655" stroke="#334155" stroke-width="1"/>
  </g>
  
  <g transform="translate(115, 670)">
    <rect x="0" y="0" width="105" height="55" rx="6" fill="#374151"/>
    <text x="52" y="18" font-family="monospace" font-size="8" fill="#7dd3fc" text-anchor="middle">video_extractor</text>
    <text x="52" y="32" font-family="system-ui, sans-serif" font-size="7" fill="#94a3b8" text-anchor="middle">Scene embeddings</text>
    <text x="52" y="44" font-family="system-ui, sans-serif" font-size="7" fill="#94a3b8" text-anchor="middle">Keyframes, timestamps</text>
    
    <rect x="115" y="0" width="105" height="55" rx="6" fill="#374151"/>
    <text x="167" y="18" font-family="monospace" font-size="8" fill="#7dd3fc" text-anchor="middle">audio_extractor</text>
    <text x="167" y="32" font-family="system-ui, sans-serif" font-size="7" fill="#94a3b8" text-anchor="middle">Transcription</text>
    <text x="167" y="44" font-family="system-ui, sans-serif" font-size="7" fill="#94a3b8" text-anchor="middle">Speaker diarization</text>
    
    <rect x="230" y="0" width="105" height="55" rx="6" fill="#374151"/>
    <text x="282" y="18" font-family="monospace" font-size="8" fill="#7dd3fc" text-anchor="middle">text_extractor</text>
    <text x="282" y="32" font-family="system-ui, sans-serif" font-size="7" fill="#94a3b8" text-anchor="middle">Text embeddings</text>
    <text x="282" y="44" font-family="system-ui, sans-serif" font-size="7" fill="#94a3b8" text-anchor="middle">OCR from frames</text>
    
    <rect x="345" y="0" width="105" height="55" rx="6" fill="#374151"/>
    <text x="397" y="18" font-family="monospace" font-size="8" fill="#7dd3fc" text-anchor="middle">face_extractor</text>
    <text x="397" y="32" font-family="system-ui, sans-serif" font-size="7" fill="#94a3b8" text-anchor="middle">Face embeddings</text>
    <text x="397" y="44" font-family="system-ui, sans-serif" font-size="7" fill="#94a3b8" text-anchor="middle">Bounding boxes</text>
  </g>

  <!-- Output Example -->
  <g filter="url(#shadow)">
    <rect x="600" y="615" width="250" height="130" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="600" y="615" width="250" height="28" rx="10" fill="#6366f1"/>
    <rect x="600" y="633" width="250" height="10" fill="#6366f1"/>
    <text x="725" y="635" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">ğŸ“„ Scene Document</text>
  </g>
  
  <g transform="translate(615, 655)">
    <rect x="0" y="0" width="220" height="80" rx="4" fill="#f8fafc"/>
    <text x="10" y="14" font-family="monospace" font-size="7" fill="#7dd3fc">"document_id":</text>
    <text x="85" y="14" font-family="monospace" font-size="7" fill="#fcd34d">"doc_scene_003"</text>
    <text x="10" y="28" font-family="monospace" font-size="7" fill="#7dd3fc">"scene_index":</text>
    <text x="85" y="28" font-family="monospace" font-size="7" fill="#c084fc">3</text>
    <text x="10" y="42" font-family="monospace" font-size="7" fill="#7dd3fc">"start_time":</text>
    <text x="85" y="42" font-family="monospace" font-size="7" fill="#c084fc">45.2</text>
    <text x="10" y="56" font-family="monospace" font-size="7" fill="#7dd3fc">"end_time":</text>
    <text x="85" y="56" font-family="monospace" font-size="7" fill="#c084fc">58.7</text>
    <text x="10" y="70" font-family="monospace" font-size="7" fill="#7dd3fc">"keyframe_url":</text>
    <text x="85" y="70" font-family="monospace" font-size="7" fill="#fcd34d">"s3://.../scene_003.jpg"</text>
  </g>

  <!-- Parameters Panel -->
  <g filter="url(#shadow)">
    <rect x="870" y="615" width="230" height="130" rx="10" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="870" y="615" width="230" height="28" rx="10" fill="#14b8a6"/>
    <rect x="870" y="633" width="230" height="10" fill="#14b8a6"/>
    <text x="985" y="635" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="white" text-anchor="middle">âš™ï¸ Key Parameters</text>
  </g>
  
  <g transform="translate(885, 655)">
    <rect x="0" y="0" width="200" height="18" rx="3" fill="#f0fdfa"/>
    <text x="100" y="13" font-family="monospace" font-size="7" fill="#0d9488" text-anchor="middle">scene_detection_threshold: 0.2-0.5</text>
    
    <rect x="0" y="22" width="200" height="18" rx="3" fill="#f0fdfa"/>
    <text x="100" y="35" font-family="monospace" font-size="7" fill="#0d9488" text-anchor="middle">keyframe_interval: 30s</text>
    
    <rect x="0" y="44" width="200" height="18" rx="3" fill="#f0fdfa"/>
    <text x="100" y="57" font-family="monospace" font-size="7" fill="#0d9488" text-anchor="middle">max_scenes: 100</text>
    
    <rect x="0" y="66" width="200" height="18" rx="3" fill="#f0fdfa"/>
    <text x="100" y="79" font-family="monospace" font-size="7" fill="#0d9488" text-anchor="middle">whisper: base (fast) | large-v3 (acc)</text>
  </g>

  <!-- Workflow Summary -->
  <g transform="translate(100, 765)">
    <rect x="0" y="0" width="1000" height="50" rx="8" fill="#f1f5f9" stroke="#e2e8f0" stroke-width="1"/>
    <text x="500" y="20" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#475569" text-anchor="middle">Search by What's Shown OR What's Said</text>
    <text x="500" y="38" font-family="system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle">Video â†’ Chunks â†’ Parallel (Whisper + Vertex + Gemini) â†’ Multi-Vector Index â†’ Hybrid RRF Search â†’ Moment-Level Results</text>
  </g>

</svg>