<svg viewBox="0 0 1200 650" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="queryGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#4f46e5;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="resultsGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#f97316;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ea580c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="interactionGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="signalGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="learnGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#db2777;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="6" flood-opacity="0.15"/>
    </filter>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
    </marker>
    <marker id="arrowPink" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#ec4899"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1200" height="650" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="600" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="24" font-weight="600" fill="#0f172a" text-anchor="middle">Interaction-Driven Intelligence</text>
  <text x="600" y="65" font-family="system-ui, sans-serif" font-size="13" fill="#64748b" text-anchor="middle">User behavior ‚Üí Signals ‚Üí Learned reranking ‚Üí Better results</text>

  <!-- Main Flow: Query ‚Üí Results ‚Üí Interactions -->
  
  <!-- Step 1: Query -->
  <g filter="url(#shadow)">
    <rect x="80" y="120" width="200" height="80" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="80" y="120" width="200" height="30" rx="12" fill="url(#queryGrad)"/>
    <rect x="80" y="138" width="200" height="12" fill="url(#queryGrad)"/>
    <text x="180" y="141" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Query</text>
    <text x="180" y="172" font-family="system-ui, sans-serif" font-size="11" fill="#475569" text-anchor="middle">"product demo videos"</text>
    <text x="180" y="188" font-family="system-ui, sans-serif" font-size="10" fill="#94a3b8" text-anchor="middle">execution_id: exec_7x9</text>
  </g>

  <!-- Arrow Query ‚Üí Results -->
  <line x1="280" y1="160" x2="340" y2="160" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 2: Results (ranked list) -->
  <g filter="url(#shadow)">
    <rect x="350" y="100" width="280" height="120" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="350" y="100" width="280" height="30" rx="12" fill="url(#resultsGrad)"/>
    <rect x="350" y="118" width="280" height="12" fill="url(#resultsGrad)"/>
    <text x="490" y="121" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Initial Results</text>
  </g>
  
  <!-- Result items -->
  <g transform="translate(360, 140)">
    <rect x="0" y="0" width="260" height="22" rx="4" fill="#fff7ed"/>
    <text x="8" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#c2410c">#1</text>
    <text x="28" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_abc ‚Äî Demo Overview.mp4</text>
    <text x="230" y="15" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.92</text>
  </g>
  <g transform="translate(360, 165)">
    <rect x="0" y="0" width="260" height="22" rx="4" fill="#fff7ed"/>
    <text x="8" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#c2410c">#2</text>
    <text x="28" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_def ‚Äî Product Tour.mp4</text>
    <text x="230" y="15" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.89</text>
  </g>
  <g transform="translate(360, 190)">
    <rect x="0" y="0" width="260" height="22" rx="4" fill="#fff7ed"/>
    <text x="8" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#c2410c">#3</text>
    <text x="28" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_ghi ‚Äî Sales Pitch.mp4</text>
    <text x="230" y="15" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">0.85</text>
  </g>

  <!-- Arrow Results ‚Üí User Interactions -->
  <line x1="630" y1="160" x2="690" y2="160" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 3: User Interactions -->
  <g filter="url(#shadow)">
    <rect x="700" y="100" width="220" height="120" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="700" y="100" width="220" height="30" rx="12" fill="url(#interactionGrad)"/>
    <rect x="700" y="118" width="220" height="12" fill="url(#interactionGrad)"/>
    <text x="810" y="121" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">User Interactions</text>
  </g>
  
  <!-- Interaction items -->
  <g transform="translate(710, 140)">
    <rect x="0" y="0" width="200" height="22" rx="4" fill="#ecfdf5"/>
    <text x="8" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#047857">üëÅ view</text>
    <text x="50" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_abc ‚Äî 3.2s dwell</text>
  </g>
  <g transform="translate(710, 165)">
    <rect x="0" y="0" width="200" height="22" rx="4" fill="#ecfdf5"/>
    <text x="8" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#047857">üëÜ click</text>
    <text x="50" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_ghi ‚Äî full watch</text>
  </g>
  <g transform="translate(710, 190)">
    <rect x="0" y="0" width="200" height="22" rx="4" fill="#ecfdf5"/>
    <text x="8" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#047857">‚≠ê feedback</text>
    <text x="70" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_ghi ‚Äî positive</text>
  </g>

  <!-- Arrow down from Interactions to Signals -->
  <line x1="810" y1="220" x2="810" y2="270" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 4: Signal Aggregation -->
  <g filter="url(#shadow)">
    <rect x="620" y="280" width="380" height="140" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="620" y="280" width="380" height="30" rx="12" fill="url(#signalGrad)"/>
    <rect x="620" y="298" width="380" height="12" fill="url(#signalGrad)"/>
    <text x="810" y="301" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Signal Aggregation</text>
  </g>
  
  <!-- Signal metrics -->
  <g transform="translate(640, 320)">
    <rect x="0" y="0" width="160" height="90" rx="8" fill="#f5f3ff"/>
    <text x="80" y="20" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#6d28d9" text-anchor="middle">Per-Document Signals</text>
    <text x="10" y="40" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_ghi: 0.87 engagement</text>
    <text x="10" y="55" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_abc: 0.42 engagement</text>
    <text x="10" y="70" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_def: 0.15 engagement</text>
    <text x="10" y="85" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">‚Ü≥ weighted by recency</text>
  </g>
  
  <g transform="translate(820, 320)">
    <rect x="0" y="0" width="160" height="90" rx="8" fill="#f5f3ff"/>
    <text x="80" y="20" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#6d28d9" text-anchor="middle">Query Patterns</text>
    <text x="10" y="40" font-family="system-ui, sans-serif" font-size="10" fill="#475569">"demo" ‚Üí prefers long-form</text>
    <text x="10" y="55" font-family="system-ui, sans-serif" font-size="10" fill="#475569">"product" ‚Üí sales content</text>
    <text x="10" y="70" font-family="system-ui, sans-serif" font-size="10" fill="#475569">avg session: 4.2 queries</text>
    <text x="10" y="85" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">‚Ü≥ Thompson Sampling</text>
  </g>

  <!-- Arrow down from Signals to Learned Model -->
  <line x1="810" y1="420" x2="810" y2="470" stroke="#94a3b8" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Step 5: Learned Reranking Model -->
  <g filter="url(#shadow)">
    <rect x="550" y="480" width="520" height="100" rx="12" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    <rect x="550" y="480" width="520" height="30" rx="12" fill="url(#learnGrad)"/>
    <rect x="550" y="498" width="520" height="12" fill="url(#learnGrad)"/>
    <text x="810" y="501" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Learned Reranking Model</text>
  </g>
  
  <!-- Model details -->
  <g transform="translate(570, 520)">
    <rect x="0" y="0" width="150" height="50" rx="6" fill="#fdf2f8"/>
    <text x="75" y="18" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#db2777" text-anchor="middle">Boost Factors</text>
    <text x="10" y="35" font-family="system-ui, sans-serif" font-size="9" fill="#475569">engagement_score: 1.4x</text>
    <text x="10" y="47" font-family="system-ui, sans-serif" font-size="9" fill="#475569">positive_feedback: 1.8x</text>
  </g>
  
  <g transform="translate(740, 520)">
    <rect x="0" y="0" width="150" height="50" rx="6" fill="#fdf2f8"/>
    <text x="75" y="18" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#db2777" text-anchor="middle">Decay Factors</text>
    <text x="10" y="35" font-family="system-ui, sans-serif" font-size="9" fill="#475569">skip_penalty: 0.7x</text>
    <text x="10" y="47" font-family="system-ui, sans-serif" font-size="9" fill="#475569">low_dwell: 0.85x</text>
  </g>
  
  <g transform="translate(910, 520)">
    <rect x="0" y="0" width="150" height="50" rx="6" fill="#fdf2f8"/>
    <text x="75" y="18" font-family="system-ui, sans-serif" font-size="10" font-weight="600" fill="#db2777" text-anchor="middle">Apply To</text>
    <text x="10" y="35" font-family="system-ui, sans-serif" font-size="9" fill="#475569">rerank stage scores</text>
    <text x="10" y="47" font-family="system-ui, sans-serif" font-size="9" fill="#475569">vector similarity blend</text>
  </g>

  <!-- Feedback Loop Arrow (curved, going back to Query) -->
  <path d="M 550 530 Q 200 530 180 220" stroke="#ec4899" stroke-width="2.5" fill="none" stroke-dasharray="8,4" marker-end="url(#arrowPink)"/>
  
  <!-- Feedback loop label -->
  <g transform="translate(250, 490)">
    <rect x="0" y="0" width="180" height="40" rx="8" fill="#fdf2f8" stroke="#ec4899" stroke-width="1.5"/>
    <text x="90" y="18" font-family="system-ui, sans-serif" font-size="11" font-weight="600" fill="#db2777" text-anchor="middle">Next Query Benefits</text>
    <text x="90" y="33" font-family="system-ui, sans-serif" font-size="10" fill="#9d174d" text-anchor="middle">Improved ranking for all users</text>
  </g>

  <!-- New Results Box (showing improved ranking) -->
  <g filter="url(#shadow)">
    <rect x="80" y="280" width="200" height="120" rx="12" fill="white" stroke="#ec4899" stroke-width="2"/>
    <rect x="80" y="280" width="200" height="30" rx="12" fill="url(#learnGrad)"/>
    <rect x="80" y="298" width="200" height="12" fill="url(#learnGrad)"/>
    <text x="180" y="301" font-family="system-ui, sans-serif" font-size="12" font-weight="600" fill="white" text-anchor="middle">Improved Results</text>
  </g>
  
  <!-- Improved result items (reordered) -->
  <g transform="translate(90, 320)">
    <rect x="0" y="0" width="180" height="22" rx="4" fill="#fdf2f8"/>
    <text x="8" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#db2777">#1</text>
    <text x="28" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_ghi ‚Äî Sales Pitch</text>
    <text x="155" y="15" font-family="system-ui, sans-serif" font-size="9" fill="#db2777">‚Üë2</text>
  </g>
  <g transform="translate(90, 345)">
    <rect x="0" y="0" width="180" height="22" rx="4" fill="#fdf2f8"/>
    <text x="8" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#db2777">#2</text>
    <text x="28" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_abc ‚Äî Demo Overview</text>
    <text x="155" y="15" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">‚Üì1</text>
  </g>
  <g transform="translate(90, 370)">
    <rect x="0" y="0" width="180" height="22" rx="4" fill="#fdf2f8"/>
    <text x="8" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#db2777">#3</text>
    <text x="28" y="15" font-family="system-ui, sans-serif" font-size="10" fill="#475569">doc_def ‚Äî Product Tour</text>
    <text x="155" y="15" font-family="system-ui, sans-serif" font-size="9" fill="#94a3b8">‚Üì1</text>
  </g>

  <!-- Legend -->
  <g transform="translate(80, 610)">
    <rect width="12" height="12" rx="2" fill="url(#queryGrad)"/>
    <text x="20" y="11" font-family="system-ui, sans-serif" font-size="11" fill="#475569">Query</text>
    
    <rect x="80" width="12" height="12" rx="2" fill="url(#resultsGrad)"/>
    <text x="100" y="11" font-family="system-ui, sans-serif" font-size="11" fill="#475569">Results</text>
    
    <rect x="170" width="12" height="12" rx="2" fill="url(#interactionGrad)"/>
    <text x="190" y="11" font-family="system-ui, sans-serif" font-size="11" fill="#475569">Interactions</text>
    
    <rect x="280" width="12" height="12" rx="2" fill="url(#signalGrad)"/>
    <text x="300" y="11" font-family="system-ui, sans-serif" font-size="11" fill="#475569">Signals</text>
    
    <rect x="370" width="12" height="12" rx="2" fill="url(#learnGrad)"/>
    <text x="390" y="11" font-family="system-ui, sans-serif" font-size="11" fill="#475569">Learned Model</text>
    
    <line x1="500" y1="6" x2="540" y2="6" stroke="#ec4899" stroke-width="2" stroke-dasharray="6,3"/>
    <text x="550" y="11" font-family="system-ui, sans-serif" font-size="11" fill="#475569">Feedback Loop</text>
  </g>

</svg>
