// Used by GitBook section scraper
export default function getLinksRecursivelyGitBook(linkSections, $) {
    return linkSections
        .map((_, s) => {
        const subsection = $(s);
        const sectionHeader = subsection.find('div').first();
        const link = subsection.find('a').first();
        const linkHref = link.attr('href');
        // Skip missing links. For example, GitBook uses
        // empty divs are used for styling a line beside the nav.
        // Skip external links until Mintlify supports them
        if (!linkHref ||
            linkHref === '#' ||
            linkHref.startsWith('https://') ||
            linkHref.startsWith('http://')) {
            return undefined;
        }
        const childLinks = subsection.find('ul').first().children();
        const title = link.text() ? link.text() : sectionHeader.text() ? sectionHeader.text() : '';
        if (childLinks.length > 0) {
            // Put the section link in the list of pages.
            // When we support the section itself being a link we should update this
            return {
                group: title,
                pages: [linkHref, ...getLinksRecursivelyGitBook(childLinks, $)],
            };
        }
        return linkHref;
    })
        .toArray()
        .filter(Boolean);
}
//# sourceMappingURL=getLinksRecursivelyGitBook.js.map